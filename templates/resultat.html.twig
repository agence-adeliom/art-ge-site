{% extends 'base.html.twig' %}

{% block title %}Résultats{% endblock %}

{% block body %}

    <div class="container flex justify-between items-center py-8">
        <a href="/"><img src="{{ asset('build/images/logo.svg') }}" alt="Logo ART GE"></a>
        <a href="#" class="bg-primary-600 text-white flex gap-4 items-center px-4 py-2" aria-label="Nous contacter"><i class="fa-solid fa-minus" aria-hidden="true"></i>Nous contacter</a>
    </div>

    <div class="bg-tertiary-400">
        <div class="bg-primary-600 pt-20 pb-[120px]">
            <div class="container">
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-2">
                        <p class="font-title text-white text-4xl md:text-5xl lg:text-6xl mb-4">Félicitations !</p>
                        <p class="font-title text-white text-3xl md:text-4xl lg:text-5xl mb-4">Vos engagements font la différence.</p>
                        <p class="text-white mb-8">Découvrez votre avancement thématique par thématique et accédez à des ressources pour faire évoluer les pratiques de votre établissement.</p>

                        <div>
                            <p class="text-white mb-2">Pour partager et conserver vos résultats :</p>
                            <button class="bg-white text-primary-600 flex gap-4 items-center px-4 py-2" aria-label="Copier le lien"><i class="fa-solid fa-link" aria-hidden="true"></i>Copier le lien</button>
                        </div>
                    </div>

                    <div class="bg-white p-10 self-start">
                        <p class="font-title text-3xl mb-2">Votre score</p>
                        <p class="font-title text-6xl mb-4">{{ display_percentage(reponse) }}</p>
                        <div class="bg-primary-200 h-[8px] rounded mb-4">
                            <div class="bg-primary-800 h-[8px] rounded" style="width: {{ display_percentage(reponse) }};"></div></div>
                        <p class="text-[14px]">Date de soumission : {{ reponse.submittedAt | date("d.m.Y")  }}</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6 -mt-[80px]">
                {% for score in reponse.scores %}
                    <div class="card bg-white min-h-[375px] flex flex-col">
                        <img src="https://placehold.it/608x240" alt="">
                        <div class="p-6 flex flex-col h-full">
                            <h3 class="font-title font-bold mb-4 text-3xl">{{ score.thematique.name }}</h3>
                            <div class="mt-auto">
                                <div class="flex items-center gap-10 mb-6">
                                    <div class="bg-primary-200 h-[8px] rounded w-full"><div class="bg-primary-800 h-[8px] rounded" style="width: {{ display_percentage(score.points, score.total) }};"></div></div>
                                    <p>{{ display_percentage(score.points, score.total) }}</p>
                                </div>
                                <button class="flex gap-2 items-center text-primary-600">Voir en détail<i class="fa-solid fa-angle-right" aria-hidden="true"></i></button>
                            </div>
                        </div>

{#                        <details>#}
{#                            <summary>Réponses choisies</summary>#}
{#                            {% if score.chosenChoices %}#}
{#                                <ul class="list-disc list-inside">#}
{#                                    {% for chosen in score.chosenChoices %}#}
{#                                        <li>{{ chosen.libelle }}</li>#}
{#                                    {% endfor %}#}
{#                                </ul>#}
{#                            {% endif %}#}
{#                        </details>#}

{#                        <details>#}
{#                            <summary>Réponses <strong>non</strong> choisies</summary>#}
{#                            {% if score.notChosenChoices %}#}
{#                                <ul class="list-disc list-inside">#}
{#                                    {% for notChosen in score.notChosenChoices %}#}
{#                                        <li>{{ notChosen.libelle }}</li>#}
{#                                    {% endfor %}#}
{#                                </ul>#}
{#                            {% endif %}#}
{#                        </details>#}
                    </div>
                {% endfor %}
            </div>
            <div class="py-20">
                <div class="bg-primary-600 p-12 flex items-center gap-6 bg-no-repeat bg-[115%] bg-[length:288px]" style="background-image: url('{{ asset('build/icones/leafs.svg') }}')">
                    <div class="w-full">
                        <p class="font-title text-white text-4xl mb-2">Et si vous alliez plus loin ? </p>
                        <p class="text-white text-lg font-text font-normal">Progressez en matière d'éco-responsabilité grâce à notre accompagnement personnalisé.</p>
                    </div>
                    <a href="#" class="bg-white text-primary-600 flex gap-4 items-center px-4 py-2" aria-label="Nous contacter"><i class="fa-solid fa-link" aria-hidden="true"></i>Nous&nbsp;contacter</a>
                </div>

            </div>
        </div>
    </div>

    <div class="text-white bg-neutral-700 py-10 lg:py-6">
        <div class="container lg:flex justify-between">
            <p class="text-center transition-colors dark:text-white text-sm font-normal text-white mb-2 lg:mb-0 lg:flex lg:items-center">2023 ©ARTGE - Tous droits réservés</p>
            <nav>
                <ul class="text-center lg:flex items-center max-md:justify-center gap-6 text-sm font-normal">
                    <li class="mb-2 lg:mb-0 "><a href="#">Mentions légales</a></li>
                    <li class="mb-2 lg:mb-0 "><a href="#">Gestion des cookies</a></li>
                    <li class="mb-2 lg:mb-0 "><a href="#">Politique de confidentialité</a></li>
                </ul>
            </nav>
            <a href="https://adeliom.com/" class="flex justify-center items-center gap-2 mr-6" target="_blank"><p class="text transition-colors dark:text-white text-sm font-normal text-white">Conception</p><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.9991 5.998C11.9991 2.69331 9.30576 0 5.99707 0V6.002H11.9951L11.9991 5.998Z" fill="#6E6E6E"></path><path d="M3.001 6.002C4.6584 6.002 6.002 4.6584 6.002 3.001C6.002 1.34359 4.6584 0 3.001 0C1.34359 0 0 1.34359 0 3.001C0 4.6584 1.34359 6.002 3.001 6.002Z" fill="#CFCFCF"></path><path d="M12.0002 5.99817H3.00122C1.35087 6.00616 0.012207 7.34482 0.012207 8.99917C0.012207 10.6535 1.35486 12.0002 3.01321 12.0002H12.0002V5.99817Z" fill="#6F6F6F"></path><path d="M5.99707 5.99789C5.99707 9.30658 8.68638 11.9959 11.9951 11.9959V5.9939H5.99707V5.99789Z" fill="#373737"></path></svg><p class="text transition-colors dark:text-white text-sm font-normal text-white">Agence Adeliom</p></a>
        </div>
    </div>

{% endblock %}
